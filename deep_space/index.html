<!DOCTYPE html>

<html>
	<head>
		<title>DeepSpace demo</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	</head>

	<body style="background-color: #121212" onload="run();" onresize="resize();" oncontextmenu="return false;">
		<script type="text/javascript" src="three.min.js"></script>

		<!--App code-->
		<script type="text/javascript">
			var app;

			//Initialize app
			function run()
			{	
				//Create app object
				app = new ThreeApp();

				//Onload enable the vr and fullscreen buttons
				var logo = document.getElementById("logo");
				var onLoad = function()
				{
					var button = document.getElementById("fullscreen");
					button.style.visibility = "visible";

					//Remove logo and loading bar
					document.body.removeChild(logo);
				};

				//On progress callback
				var bar = document.getElementById("bar");
				var onProgress = function(event)
				{
					if(event.lengthComputable)
					{
						var progress = event.loaded / event.total * 100;
						bar.style.width = progress + "%";
					}
				};

				//Load and run my pack
				app.loadRunProgram("app.pack", onLoad, onProgress);
			}

			//Resize app
			function resize()
			{
				app.resize();
			}

			//Toggle fullscreen mode
			function toggleFullscreen()
			{
				app.toggleFullscreen(document.body);
			}
		</script>

		<!--Fullscreen button-->
		<div id="fullscreen" onclick="toggleFullscreen();" style="visibility:hidden; position:absolute; z-index:10000; right:50px; bottom:50px">
			<img style="position:absolute; cursor:pointer; opacity:0.4; width:25px; height:25px" src="fullscreen.svg" onmouseenter="this.style.opacity = 1.0;" onmouseleave="this.style.opacity=0.4;">
		</div>
		<!--Logo-->
		<div id="logo" style="position:absolute; width:50%; left:25%; top:35%">
			<h1 style="color: #fff; text-transform: uppercase; font-size: 150%;">Deep Space Demo by COLD</h1>
			<!--Loading bar-->
			<div style="position:absolute; width:100%; height:15px; left:0%; top:120%; border-style: none; border-color:#FFFFFF; border-width:2px">
				<div id="bar" style="position:absolute; width:0%; height:100%; left:0%; top:0%; background-color:#FFFFFF"></div>
			</div>
		</div>
	</body>
</html>
